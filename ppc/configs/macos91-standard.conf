# Configuration for Mac OS 9.1 on PowerPC with TAP Networking
#
# PURPOSE: Standard balanced configuration for Mac OS 9.1 PowerPC emulation
# 
# KEY FEATURES:
# - Writethrough cache (balanced performance and safety)
# - 512MB RAM optimized for Mac OS 9.1
# - ES1370 audio device for Mac OS 9 compatibility
# - Good starting point for Mac OS 9.1 emulation
# 
# WHEN TO USE:
# - You want a reliable, well-tested Mac OS 9.1 setup
# - You're new to PowerPC Mac emulation
# - You prefer proven defaults with modern enhancements
# - You need inter-VM networking via TAP bridge
# 
# NOTE: This is the standard configuration - other macos91-*.conf files
# are performance variants of this base configuration

CONFIG_NAME="Mac OS 9.1 (Standard)"
ARCH="ppc"

# --- QEMU Machine Settings ---
QEMU_MACHINE="mac99,via=pmu"
QEMU_RAM="512"            # RAM in MB (higher than 68k)
QEMU_GRAPHICS="800x600x8" # Resolution and color depth

# --- Performance ---
QEMU_CPU="g4"                              # PowerPC CPU type (G4 for Mac OS 9.1)
QEMU_SMP_CORES="1"                         # Number of CPU cores (1=safe for Mac OS 9)
QEMU_TCG_THREAD_MODE="single"              # TCG threading mode (single=stable, multi=faster but shows warnings)
QEMU_TB_SIZE="512"                         # Translation block cache size (larger=faster)
QEMU_MEMORY_BACKEND="ram"                  # Memory backend type

# --- Storage ---
QEMU_HDD="ppc/images/91/MacOS9.1.img"         # Path to the Mac OS 9.1 hard disk image
QEMU_SHARED_HDD="ppc/images/91/shared_91.img"  # Path to the shared disk image for this config
QEMU_SHARED_HDD_SIZE="200M"       # Optional: Example of setting a specific size

# Storage Performance (IDE instead of SCSI)
QEMU_IDE_CACHE_MODE="writethrough"        # Storage caching: writethrough (safe), writeback (fast), none (safest), directsync
QEMU_IDE_AIO_MODE="threads"               # AIO mode: threads (default), native (Linux only)

# --- Display ---
QEMU_DISPLAY_DEVICE="built-in"          # Display device type
QEMU_RESOLUTION_PRESET="mac_standard"      # Resolution preset: mac_standard, vga, svga, xga, sxga

# --- Audio ---
QEMU_AUDIO_BACKEND="pa"         # Audio backend: pa (PulseAudio), alsa, sdl, none
QEMU_AUDIO_LATENCY="35000"      # Audio latency in microseconds (35ms for better responsiveness)
QEMU_SOUND_DEVICE="es1370"      # Sound device for Mac OS 9 (different from 68k ASC)

# --- Networking ---
QEMU_NETWORK_DEVICE="rtl8139"          # Network device (rtl8139, pcnet, e1000)
BRIDGE_NAME="br0"                 # Host bridge interface to connect to
# QEMU_TAP_IFACE="tap_macos91"     # Optional: Specify a fixed TAP name (if commented out, script generates one)
# QEMU_MAC_ADDR="52:54:00:91:00:01" # Optional: Specify a fixed MAC address (if commented out, script generates one)

# --- User Mode SMB (optional, for user mode networking) ---
# QEMU_USER_SMB_DIR="/path/to/shared/folder"  # Uncomment to enable SMB sharing in user mode
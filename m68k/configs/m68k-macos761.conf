# Configuration for Mac OS 7.6.1 on 68k (Motorola 68000) - Maximum Performance
#
# PURPOSE: Optimized configuration for Mac OS 7.6.1 with fastest performance settings
# 
# KEY FEATURES:
# - Maximum performance settings (writeback cache, native AIO, multi-threading)
# - 128MB RAM optimized for Mac OS 7.6.1
# - Enhanced features and stability improvements over 7.5.3
# - User-mode networking for out-of-the-box connectivity
# 
# WHEN TO USE:
# - You want the fastest possible Mac OS 7.6.1 emulation
# - You need the stability improvements of 7.6.1 over 7.5.3
# - You have a modern system with SSD storage
# - You need maximum performance for development, gaming, or productivity
# 
# PERFORMANCE: Maximum speed with all optimizations enabled
# COMPATIBILITY: Excellent with Mac OS 7.6.1 (more stable than 7.5.3)
# RISK LEVEL: Low (save work frequently for maximum safety)

CONFIG_NAME="Mac OS 7.6.1 (Maximum Performance)"
ARCH="m68k"

# ========================================
# QEMU MACHINE CONFIGURATION
# ========================================

QEMU_MACHINE="q800"                     # Quadra 800 emulation (only supported 68k machine)
QEMU_ROM="m68k/800.ROM"                 # Path to Quadra 800 ROM file (user must provide)

# === CPU CONFIGURATION OPTIONS ===
# CPU Models (68k):
# QEMU_CPU_MODEL="m68040"               # Motorola 68040 @ 33MHz (default, fastest)
# QEMU_CPU_MODEL="m68030"               # Motorola 68030 (compatibility)
# QEMU_CPU_MODEL="m68020"               # Motorola 68020 (slower, maximum compatibility)
QEMU_CPU_MODEL="m68040"                 # Default: m68040 for best performance

# === MEMORY CONFIGURATION OPTIONS ===
# RAM Sizes (68k systems):
# QEMU_RAM="256"                        # 256MB - Maximum for some software
# QEMU_RAM="128"                        # 128MB - Optimal for Mac OS 7.6.1 (default)
# QEMU_RAM="64"                         # 64MB - Minimum recommended
# QEMU_RAM="32"                         # 32MB - Historical accuracy
QEMU_RAM="128"                          # Default: 128MB optimal for Mac OS 7.6.1

# ========================================
# PERFORMANCE TUNING CONFIGURATION
# ========================================

# === TCG THREADING OPTIONS (68k only) ===
# Threading Modes (fastest to most stable):
# QEMU_TCG_THREAD_MODE="multi"          # FASTEST - Multi-threaded TCG (expect warnings)
# QEMU_TCG_THREAD_MODE="single"         # STABLE - Single-threaded TCG
QEMU_TCG_THREAD_MODE="multi"            # Default: multi for maximum performance

# === TRANSLATION BLOCK CACHE ===
# Cache Sizes (larger = faster, more memory):
# QEMU_TB_SIZE="512"                    # LARGE - 512MB cache (maximum performance)
# QEMU_TB_SIZE="256"                    # MEDIUM - 256MB cache (default, balanced)
# QEMU_TB_SIZE="128"                    # SMALL - 128MB cache (memory constrained)
# QEMU_TB_SIZE="32"                     # MINIMAL - 32MB cache (very limited)
QEMU_TB_SIZE="256"                      # Default: 256MB balanced for 68k

# === MEMORY BACKEND OPTIONS ===
# Backend Types:
# QEMU_MEMORY_BACKEND="ram"             # Standard RAM backend (default)
# QEMU_MEMORY_BACKEND="file"            # File-backed memory (debugging)
QEMU_MEMORY_BACKEND="ram"               # Default: standard RAM backend

# ========================================
# STORAGE CONFIGURATION
# ========================================

# Main system disk image
QEMU_HDD="m68k/images/761/hdd_sys761.img"
# PRAM settings storage
QEMU_PRAM="m68k/images/761/pram_761_q800.img"
# Shared disk for file transfer
QEMU_SHARED_HDD="m68k/images/761/shared_761.img"
# Optional: Custom shared disk size (uncomment to override default 200M)
# QEMU_SHARED_HDD_SIZE="500M"

# === SCSI CACHE CONFIGURATION ===
# Cache Modes (fastest to safest):
# QEMU_SCSI_CACHE_MODE="writeback"      # FASTEST - Memory buffered writes (default for max performance)
# QEMU_SCSI_CACHE_MODE="writethrough"   # BALANCED - Write-through cache (safer)
# QEMU_SCSI_CACHE_MODE="directsync"     # SAFE - Synchronous I/O (slower)
# QEMU_SCSI_CACHE_MODE="none"           # SAFEST - No caching (slowest)
QEMU_SCSI_CACHE_MODE="writeback"        # Default: writeback for maximum performance

# === SCSI AIO CONFIGURATION ===
# AIO Modes (fastest to most compatible):
# QEMU_SCSI_AIO_MODE="native"           # FASTEST - Linux kernel async I/O (default, Linux only)
# QEMU_SCSI_AIO_MODE="threads"          # COMPATIBLE - Threaded I/O (all platforms)
QEMU_SCSI_AIO_MODE="native"             # Default: native for maximum I/O performance

# === SCSI DEVICE IDENTIFICATION ===
# SCSI Vendor Strings:
# QEMU_SCSI_VENDOR="QUANTUM"            # High-performance drive emulation (default)
# QEMU_SCSI_VENDOR="SEAGATE"            # Standard drive emulation
# QEMU_SCSI_VENDOR="APPLE"              # Apple-branded drive emulation
QEMU_SCSI_VENDOR="QUANTUM"              # Default: QUANTUM for performance identification

# SCSI Serial Prefixes:
# QEMU_SCSI_SERIAL_PREFIX="MAX"         # Maximum performance identification (default)
# QEMU_SCSI_SERIAL_PREFIX="SYS"         # System identification
# QEMU_SCSI_SERIAL_PREFIX="QOS"         # Quality of service identification
QEMU_SCSI_SERIAL_PREFIX="MAX"           # Default: MAX for performance identification

# ========================================
# DISPLAY CONFIGURATION
# ========================================

# === GRAPHICS RESOLUTION OPTIONS ===
# Display Resolutions (higher = more desktop space):
# QEMU_GRAPHICS="1152x870x32"           # HIGH - 1152x870, 32-bit color (maximum quality)
# QEMU_GRAPHICS="1152x870x16"           # HIGH - 1152x870, 16-bit color (balanced)
# QEMU_GRAPHICS="1152x870x8"            # HIGH - 1152x870, 8-bit color (default, authentic)
# QEMU_GRAPHICS="1024x768x16"           # MEDIUM - 1024x768, 16-bit color
# QEMU_GRAPHICS="800x600x8"             # STANDARD - 800x600, 8-bit color
# QEMU_GRAPHICS="640x480x8"             # CLASSIC - 640x480, 8-bit color (period accurate)
QEMU_GRAPHICS="1152x870x8"              # Default: 1152x870x8 authentic Mac resolution

# === DISPLAY DEVICE OPTIONS ===
# Display Devices:
# QEMU_DISPLAY_DEVICE="built-in"        # Built-in display (default, fast)
# QEMU_DISPLAY_DEVICE="nubus-macfb"     # NuBus framebuffer (authentic, slower)
QEMU_DISPLAY_DEVICE="built-in"          # Default: built-in for performance

# === DISPLAY RESOLUTION PRESETS ===
# Resolution Presets:
# QEMU_RESOLUTION_PRESET="mac_standard"  # Mac standard resolutions (default)
# QEMU_RESOLUTION_PRESET="vga"          # VGA standard resolutions
# QEMU_RESOLUTION_PRESET="svga"         # Super VGA resolutions
# QEMU_RESOLUTION_PRESET="xga"          # Extended Graphics Array
QEMU_RESOLUTION_PRESET="mac_standard"   # Default: Mac standard for authenticity

# ========================================
# FLOPPY DISK CONFIGURATION
# ========================================

# === FLOPPY DISK OPTIONS ===
# Floppy Image File:
# QEMU_FLOPPY_IMAGE="/path/to/disk.img" # Path to floppy disk image (uncomment to use)
# QEMU_FLOPPY_IMAGE=""                  # No floppy disk (default)
QEMU_FLOPPY_IMAGE=""                    # Default: no floppy disk

# Floppy Access Mode:
# QEMU_FLOPPY_READONLY="false"          # Read-write access (full functionality)
# QEMU_FLOPPY_READONLY="true"           # Read-only access (safe, default)
QEMU_FLOPPY_READONLY="true"             # Default: read-only for safety

# Floppy Format:
# QEMU_FLOPPY_FORMAT="mac"              # Mac format (default for authenticity)
# QEMU_FLOPPY_FORMAT="pc"               # PC format (for PC disk images)
QEMU_FLOPPY_FORMAT="mac"                # Default: Mac format

# ========================================
# AUDIO CONFIGURATION
# ========================================

# === AUDIO BACKEND OPTIONS ===
# Audio Backends (by platform):
# QEMU_AUDIO_BACKEND="pa"               # PulseAudio (Linux default)
# QEMU_AUDIO_BACKEND="coreaudio"        # CoreAudio (macOS)
# QEMU_AUDIO_BACKEND="dsound"           # DirectSound (Windows)
# QEMU_AUDIO_BACKEND="alsa"             # ALSA (Linux alternative)
# QEMU_AUDIO_BACKEND="sdl"              # SDL audio (cross-platform)
# QEMU_AUDIO_BACKEND="none"             # No audio output
QEMU_AUDIO_BACKEND="pa"                 # Default: PulseAudio for Linux

# === AUDIO LATENCY OPTIONS ===
# Audio Latency (microseconds - lower = less latency, higher CPU usage):
# QEMU_AUDIO_LATENCY="15000"            # LOW - 15ms (gaming/multimedia, high CPU)
# QEMU_AUDIO_LATENCY="25000"            # MEDIUM - 25ms (balanced)
# QEMU_AUDIO_LATENCY="35000"            # STANDARD - 35ms (default, efficient)
# QEMU_AUDIO_LATENCY="50000"            # HIGH - 50ms (compatibility mode)
QEMU_AUDIO_LATENCY="25000"              # Default: 25ms for good performance

# === APPLE SOUND CHIP OPTIONS ===
# ASC (Apple Sound Chip) Modes:
# QEMU_ASC_MODE="easc"                  # Enhanced ASC (default, better compatibility)
# QEMU_ASC_MODE="asc"                   # Classic ASC (period accurate)
QEMU_ASC_MODE="easc"                    # Default: Enhanced ASC

# ========================================
# NETWORKING CONFIGURATION
# ========================================

# === NETWORK DEVICE OPTIONS ===
# Network Devices:
# QEMU_NETWORK_DEVICE="dp83932"         # DP83932 - A common choice for 68k emulation
# QEMU_NETWORK_DEVICE="e1000"           # Intel E1000 - Alternative option
QEMU_NETWORK_DEVICE="dp83932"           # Default: dp83932 for compatibility

# ========================================
# MAC OS 7.6.1 SPECIFIC ENHANCEMENTS
# ========================================

# === MAC OS 7.6.1 ADVANTAGES ===
# Mac OS 7.6.1 provides these improvements over 7.5.3:
# - Enhanced memory management and stability
# - Better support for larger hard drives
# - Improved networking stack
# - Enhanced QuickDraw GX support
# - Better PowerPC application compatibility
# - Improved virtual memory management
# - Enhanced file system stability

# === RECOMMENDED SOFTWARE COMPATIBILITY ===
# Mac OS 7.6.1 is excellent for:
# - Classic Mac development (CodeWarrior, MPW)
# - Vintage productivity software (Microsoft Office 4.2.1, ClarisWorks)
# - Classic Mac games (optimized for 68k)
# - Networking applications (better TCP/IP stack)
# - QuickTime multimedia applications

# ========================================
# ADVANCED CONFIGURATION NOTES
# ========================================

# === PERFORMANCE vs SAFETY TRADE-OFFS ===
# This configuration prioritizes MAXIMUM PERFORMANCE with these trade-offs:
# 
# SPEED OPTIMIZATIONS:
# - writeback cache: Fastest disk I/O (requires clean VM shutdown)
# - native AIO: Linux kernel async I/O (Linux only, fastest)
# - multi TCG: Multi-threaded translation (warnings expected)
# - 128MB RAM: Optimal memory for Mac OS 7.6.1
# - dp83932: Best network device for 68l
#
# SAFETY CONSIDERATIONS:
# - Save work frequently when using writeback cache
# - Ensure clean VM shutdown to prevent data corruption
# - Multi TCG generates warnings but is stable for most use cases
# - Native AIO requires Linux host for maximum performance

# === CUSTOMIZATION GUIDANCE ===
# To customize this configuration:
# 1. Uncomment and modify any setting above
# 2. For maximum safety: Change cache to "writethrough" and AIO to "threads"
# 3. For maximum speed: Keep current settings (already optimized)
# 4. For compatibility: Change TCG to "single" if you experience issues
# 5. For memory-constrained systems: Reduce TB_SIZE to "128" or "32"

# === TROUBLESHOOTING ===
# If you experience issues:
# 1. Switch QEMU_SCSI_CACHE_MODE to "writethrough" (safer)
# 2. Switch QEMU_SCSI_AIO_MODE to "threads" (more compatible)
# 3. Switch QEMU_TCG_THREAD_MODE to "single" (more stable)
# 4. Reduce QEMU_TB_SIZE if experiencing memory issues
# 5. Switch QEMU_NETWORK_DEVICE to "dp83932" for original compatibility